{"version":3,"sources":["webpack-src:///knockout-validation-example/webpack/universalModuleDefinition","webpack-src:///knockout-validation-example/webpack/bootstrap a984561d0f2f4eba6367","webpack-src:///knockout-validation-example/js/index.js","webpack-src:///knockout-validation-example/external \"underscore\"","webpack-src:///knockout-validation-example/js/validators/required.js","webpack-src:///knockout-validation-example/js/validators/base.js","webpack-src:///knockout-validation-example/js/config.js","webpack-src:///knockout-validation-example/js/validators/string.js","webpack-src:///knockout-validation-example/js/validators/number.js","webpack-src:///knockout-validation-example/js/validators/enum.js","webpack-src:///knockout-validation-example/js/validators/custom.js","webpack-src:///knockout-validation-example/js/ko-extension.js","webpack-src:///knockout-validation-example/external \"knockout\""],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;iECtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AClED,gD;;;;;;iECAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;iECjBD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;iEC7BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;iEChBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iFAAgF,yBAAyB;AACzG;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;iECvCD;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,4EAA2E,WAAW;AACtF,MAAK;AACL,4EAA2E,WAAW;AACtF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;iEClGD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;iECnBD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,EAAC;;;;;;;iECvBD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA,QAAO;AACP,MAAK,UAAU,mBAAmB;;AAElC;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;AC3CD,iD","file":"knockout-validation.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"underscore\"), require(\"knockout\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"underscore\", \"knockout\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"knockout-validation\"] = factory(require(\"underscore\"), require(\"knockout\"));\n\telse\n\t\troot[\"knockout-validation\"] = factory(root[\"underscore\"], root[\"knockout\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_10__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a984561d0f2f4eba6367\n **/","define([\n  'lib/underscore',\n  'component/ko-validation/validators/required',\n  'component/ko-validation/validators/string',\n  'component/ko-validation/validators/number',\n  'component/ko-validation/validators/enum',\n  'component/ko-validation/validators/custom',\n  'component/ko-validation/ko-extension',\n  'component/ko-validation/config',\n], function (_, Required, String, Number, Enum, Custom, config) {\n  'use strict';\n\n  function run(value, validators) {\n    var failed = _.find(validators, function (v) {\n      return !v.isValid(value);\n    });\n    return failed ? failed.message : undefined;\n  }\n\n  function required(allowSpace) {\n    return new Required(allowSpace);\n  }\n\n  function string() {\n    return new String.Type();\n  }\n\n  string.size = function (length) {\n    return new String.Size(length);\n  };\n\n  string.xss = function () {\n    return new String.XSS();\n  };\n\n  function number() {\n    return new Number.Type();\n  }\n\n  number.size = function (integerLength, decimalLength) {\n    return new Number.Size(integerLength, decimalLength);\n  };\n\n  number.range = function (min, max) {\n    return new Number.Range(min, max);\n  };\n\n  function enumeration(enumerators, nullable) {\n    return new Enum(enumerators, nullable);\n  }\n\n  function custom(method, message, blockInput) {\n    return new Custom(method, message, blockInput);\n  }\n\n  return {\n    // validators\n    required: required,\n    string: string,\n    number: number,\n    enum: enumeration,\n    custom: custom,\n    // end of validators\n    run: run, // run validation manually, for using without knockout\n    config: config,\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/index.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"underscore\"\n ** module id = 1\n ** module chunks = 0\n **/","define([\n  'lib/underscore',\n  'component/ko-validation/validators/base',\n  'component/ko-validation/config',\n], function (_, Base, config) {\n  'use strict';\n  function Required(allowSpace) {\n    _.extend(this, new Base());\n    this.allowSpace = allowSpace;\n    this.message = config.defaultMessage('Validation_NotEmpty_Required_Field');\n  }\n\n  Required.prototype.isValid = function (value) {\n    return _.isFinite(value) || !_.isEmpty(!this.allowSpace && _.isString(value) ? value.trim() : value);\n  };\n\n  return Required;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/validators/required.js\n ** module id = 2\n ** module chunks = 0\n **/","define([\n  'lib/underscore',\n  'component/ko-validation/config',\n], function (_, config) {\n  'use strict';\n\n  function Base() {\n    this.blockInput = false;\n    this.message = config.defaultMessage('Validation_Base_Field_Not_Valid');\n  }\n\n  Base.prototype.set = function (options) {\n    options = options || {};\n    if (_.has(options, 'blockInput')) {\n      this.blockInput = options.blockInput;\n    }\n\n    if (_.has(options, 'message')) {\n      this.message = options.message;\n    }\n\n    return this;\n  };\n\n  Base.prototype.validate = function (value) {\n    return this.isValid(value) ? undefined : this.message;\n  };\n\n  return Base;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/validators/base.js\n ** module id = 3\n ** module chunks = 0\n **/","define(['lib/underscore'], function (_) {\n  // var validKeys = [\n  //   'Validation_Base_Field_Not_Valid',\n  //   'Validation_NotEmpty_Required_Field',\n  //   'Validation_String_Max_Length',\n  //   'Validation_String_Invalid_Characters',\n  //   'Validation_Number_Require_Numeric',\n  //   'Validation_Number_Max_Length',\n  //   'Validation_Number_Range_Min',\n  //   'Validation_Number_Range_Max',\n  //   'Validation_Number_Range_Between',\n  // ];\n  return {\n    defaultMessage: _.identity,\n    decimalPoint: '.',\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/config.js\n ** module id = 4\n ** module chunks = 0\n **/","define([\n  'lib/underscore',\n  'component/ko-validation/validators/base',\n  'component/ko-validation/config',\n], function (_, Base, config) {\n  'use strict';\n  function Type() {\n    _.extend(this, new Base());\n  }\n\n  Type.prototype.isValid = function (value) {\n    return _.isString(value);\n  };\n\n  function Size(length) {\n    _.extend(this, new Base());\n    this.blockInput = true;\n    this.length = length || 0;\n    this.message = config.defaultMessage('Validation_NotEmpty_Required_Field', { maxlength: this.length });\n  }\n\n  Size.prototype.isValid = function (value) {\n    return _.isString(value) && _.size(value) <= this.length;\n  };\n\n  function XSS() {\n    _.extend(this, new Base());\n    this.message = config.defaultMessage('Validation_String_Invalid_Characters');\n  }\n\n  XSS.prototype.isValid = function (value) {\n    return _.isString(value) && !/<[^>]*>/.exec(value);\n  };\n\n  return {\n    Type: Type,\n    Size: Size,\n    XSS: XSS,\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/validators/string.js\n ** module id = 5\n ** module chunks = 0\n **/","define([\n  'lib/underscore',\n  'component/ko-validation/validators/base',\n  'component/ko-validation/config',\n], function (_, Base, config) {\n  'use strict';\n\n  var decimalPoint = config.decimalPoint;\n\n  function Type() {\n    _.extend(this, new Base());\n    this.blockInput = true;\n    this.message = config.defaultMessage('Validation_Number_Require_Numeric');\n  }\n\n  Type.prototype.isValid = function (value) {\n    // TODO [lyweiwei] this is not general\n    return value === '-' || value === decimalPoint || _.isFinite(value);\n  };\n\n  function Size(integerLength, decimalLength) {\n    _.extend(this, new Base());\n    this.blockInput = true;\n    this.message = config.defaultMessage('Validation_Number_Max_Length');\n    this.integerLength = integerLength;\n    this.decimalLength = decimalLength;\n  }\n\n  Size.prototype.isValid = function (value) {\n    if (!_.isFinite(value)) {\n      return false;\n    }\n\n    var number = parseFloat(value);\n    var text = value.toString();\n\n    if (number < 0) {\n      text = text.substr(1);\n    }\n\n    var segments = text.split(decimalPoint);\n\n    if (this.integerLength && _.size(segments[0]) > this.integerLength) {\n      return false;\n    }\n\n    if (this.decimalLength === 0 && _.size(segments) > 1) {\n      return false;\n    }\n\n    if (this.decimalLength && _.size(segments[1]) > this.decimalLength) {\n      return false;\n    }\n\n    return true;\n  };\n\n  function Range(min, max) {\n    _.extend(this, new Base());\n    this.min = min;\n    this.max = max;\n\n    if (_.isFinite(min) && _.isFinite(max)) {\n      this.message = config.defaultMessage('Validation_Number_Range_Between', {\n        min: min,\n        max: max,\n      });\n    } else if (_.isFinite(min)) {\n      this.message = config.defaultMessage('Validation_Number_Range_Min', { min: min });\n    } else {\n      this.message = config.defaultMessage('Validation_Number_Range_Max', { max: max });\n    }\n  }\n\n  Range.prototype.isValid = function (value) {\n    if (!_.isFinite(value)) {\n      return false;\n    }\n\n    var number = parseFloat(value);\n    var result = true;\n\n    if (_.isFinite(this.min)) {\n      result = result && number >= this.min;\n    }\n\n    if (_.isFinite(this.max)) {\n      result = result && number <= this.max;\n    }\n\n    return result;\n  };\n\n  return {\n    Type: Type,\n    Size: Size,\n    Range: Range,\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/validators/number.js\n ** module id = 6\n ** module chunks = 0\n **/","define([\n  'lib/underscore',\n  'component/ko-validation/validators/base',\n], function (_, Base) {\n  'use strict';\n\n  function Enum(enumerators, nullable) {\n    _.extend(this, new Base());\n    this.enumerators = enumerators.slice();\n    this.nullable = nullable;\n    // use error message defined in base validator\n  }\n\n  Enum.prototype.isValid = function (value) {\n    return (this.nullable && _.isNull(value)) ||\n        _.contains(this.enumerators, value);\n  };\n\n  return Enum;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/validators/enum.js\n ** module id = 7\n ** module chunks = 0\n **/","define([\n  'lib/underscore',\n  'component/ko-validation/validators/base',\n], function (_, Base) {\n  'use strict';\n\n  var Custom = function (method, message, blockInput) {\n    Base.apply(this);\n\n    if (!_.isUndefined(blockInput)) {\n      this.blockInput = blockInput;\n    }\n\n    if (message) {\n      this.message = message;\n    }\n\n    this.isValid = method;\n  };\n\n  Custom.prototype = Object.create(Base.prototype);\n\n  return Custom;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/validators/custom.js\n ** module id = 8\n ** module chunks = 0\n **/","define(['lib/knockout', 'lib/underscore'], function (ko, _) {\n  'use strict';\n\n  ko.extenders.validate = function (observable, validators) {\n    validators = validators || [];\n\n    var observableWrapper = ko.computed({\n      read: function () {\n        return observable();\n      },\n      write: function (value) {\n        observableWrapper.errors.removeAll();\n        var failedValidations = _.filter(validators, function (v) {\n          return !v.isValid(value);\n        });\n\n        // if user input is blocked, do not pass this value to internal object\n        if (_.some(failedValidations, _.property('blockInput'))) {\n          observable.notifySubscribers();\n        } else {\n          // if user input is blocked, do not expose error to external\n          observableWrapper.errors(_.map(failedValidations, function (failed) {\n            return _.isFunction(failed.message) ? failed.message(value) : failed.message;\n          }));\n\n          observable(value);\n        }\n      },\n    }).extend({ notify: 'always' });\n\n    observableWrapper.errors = ko.observableArray();\n    observableWrapper.isValid = ko.computed(function () {\n      return this.errors().length === 0;\n    }, observableWrapper);\n\n    // force validation even if value not changed\n    observableWrapper.validate = function () {\n      this(observable());\n      return this.isValid();\n    };\n\n    return observableWrapper;\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/ko-extension.js\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"knockout\"\n ** module id = 10\n ** module chunks = 0\n **/"],"sourceRoot":""}